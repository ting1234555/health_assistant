<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIé£Ÿç‰©ç‡Ÿé¤Šåˆ†æå™¨ - å€‹äººåŒ–ç‰ˆæœ¬</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* å…¨å±€æ¨£å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* è¿½è¹¤ç´€éŒ„å°ˆç”¨æ¨£å¼ */
        .tracking-container {
            padding: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* çµ±è¨ˆå¡ç‰‡ç¶²æ ¼ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            font-size: 2rem;
            margin-right: 1rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f7fa;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.875rem;
            color: #7f8c8d;
        }

        /* åœ–è¡¨å¡ç‰‡ */
        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .chart-card.full-width {
            grid-column: 1 / -1;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-header h3 {
            font-size: 1.25rem;
            color: #2c3e50;
            margin: 0;
        }

        /* é€²åº¦æ¢æ¨£å¼ */
        .progress-bars {
            display: grid;
            gap: 1.25rem;
        }

        .progress-item {
            margin-bottom: 1rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .progress-label {
            font-weight: 600;
            color: #2c3e50;
        }

        .progress-value {
            color: #7f8c8d;
        }

        .progress-bar-container {
            height: 8px;
            background: #f0f2f5;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* é£Ÿç‰©è¨˜éŒ„ */
        .meals-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .meals-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .meals-header h3 {
            margin: 0;
            font-size: 1.25rem;
            color: #2c3e50;
        }

        .btn-small {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-small:hover {
            background: #2980b9;
        }

        .meals-list {
            display: grid;
            gap: 1rem;
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #7f8c8d;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.7;
        }

        .empty-state p {
            margin: 0.5rem 0;
        }

        .text-muted {
            color: #bdc3c7;
            font-size: 0.875rem;
        }

        /* ä¸»é«”æ¨£å¼ */
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        
        .app-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .title {
            color: #333;
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            color: #666;
            font-size: 0.9rem;
        }
        
        .tab-nav {
            display: flex;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            margin-bottom: 2rem;
            padding: 0.3rem;
        }
        
        .tab-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            background: transparent;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            color: #666;
        }
        
        .tab-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* å€‹äººè³‡æ–™è¡¨å–® */
        .profile-form {
            display: grid;
            gap: 1.5rem;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        .input-group label {
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .input-group input, .input-group select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .save-profile-btn {
            background: linear-gradient(45deg, #43cea2, #185a9d);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            transition: transform 0.2s;
        }
        
        .save-profile-btn:hover {
            transform: translateY(-2px);
        }
        
        /* é£Ÿç‰©åˆ†æå€åŸŸ */
        .camera-container {
            position: relative;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        #video {
            width: 100%;
            max-width: 300px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            background-color: #000;
        }
        
        #canvas {
            display: none;
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }
        
        button:hover {
            transform: translateY(-2px);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .upload-btn {
            background: linear-gradient(45deg, #43cea2, #185a9d);
        }
        
        .file-input {
            display: none;
        }
        
        .loading {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 1rem 0;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .result {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            display: none;
        }
        
        .food-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .food-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #333;
        }
        
        .add-to-diary {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        .nutrition-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }
        
        .nutrition-item {
            background: white;
            padding: 0.8rem;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .nutrition-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.3rem;
        }
        
        .nutrition-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: #333;
        }
        
        .daily-recommendation {
            background: linear-gradient(45deg, rgba(255, 107, 107, 0.1), rgba(238, 90, 36, 0.1));
            padding: 1rem;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
            margin-top: 1.5rem;
        }
        
        .recommendation-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .recommendation-text {
            font-size: 0.8rem;
            color: #666;
            line-height: 1.4;
        }
        
        /* å¥åº·æŒ‡æ•¸æ¨£å¼ */
        .health-indices {
            display: flex;
            gap: 1rem;
            margin: 1rem 0 1.5rem;
        }
        
        .health-index {
            flex: 1;
            background: white;
            padding: 0.8rem;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .index-label {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        
        .index-meter {
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }
        
        .meter-fill {
            height: 100%;
            width: 0%;
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        #healthIndexFill {
            background: linear-gradient(45deg, #43cea2, #185a9d);
        }
        
        #glycemicIndexFill {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
        }
        
        .index-value {
            font-size: 0.8rem;
            font-weight: bold;
            color: #333;
            text-align: right;
        }
        
        .food-description {
            background: rgba(102, 126, 234, 0.1);
            padding: 1rem;
            border-radius: 10px;
            font-size: 0.9rem;
            color: #555;
            line-height: 1.5;
            margin-bottom: 1rem;
        }
        
        .benefits-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .benefit-tag {
            background: rgba(67, 206, 162, 0.1);
            color: #43cea2;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            display: inline-block;
        }
        
        .nutrition-section-title {
            color: #333;
            font-size: 1rem;
            margin: 1.5rem 0 0.8rem;
        }
        
        .nutrition-details {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .nutrition-section {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* çµ±è¨ˆå¡ç‰‡æ¨£å¼ä¿®æ­£ */
        .water-card {
            background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
        }
        
        .water-card .stat-number {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }
        
        .water-controls {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
            justify-content: center;
        }
        
        .water-btn {
            background: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 5px;
            padding: 3px 8px;
            font-size: 0.75rem;
            color: #0288d1;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .water-btn:hover {
            background: #0288d1;
            color: white;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 0.5rem;
        }
        
        /* åœ–è¡¨å®¹å™¨ */
        .chart-container {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .chart-tabs {
            display: flex;
            background: #f5f5f5;
            border-radius: 20px;
            padding: 0.3rem;
        }
        
        .chart-tab {
            background: transparent;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .chart-tab.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }
        
        .chart-view {
            display: none;
            height: 250px;
        }
        
        .chart-view.active {
            display: block;
        }
        
        /* ç›®æ¨™é”æˆé€²åº¦æ¨£å¼ */
        .goals-container {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
            .goal-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.2rem;
        }
        
        .goal-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
        }
        
        .goal-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }
        
        .goal-label {
            font-weight: 500;
            color: #333;
        }
        
        .goal-value {
            color: #666;
            font-size: 0.9rem;
        }
        
        .goal-progress {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        #caloriesProgressBar {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
        }
        
        #proteinProgressBar {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }
        
        #waterProgressBar {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
        }
        
        #fiberProgressBar {
            background: linear-gradient(45deg, #43cea2, #185a9d);
        }
        
        .today-meals {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .meal-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .meal-item:last-child {
            border-bottom: none;
        }
        
        .meal-info h4 {
            color: #333;
            margin-bottom: 0.3rem;
        }
        
        .meal-info span {
            color: #666;
            font-size: 0.8rem;
        }
        
        .meal-calories {
            font-weight: bold;
            color: #667eea;
        }
        
        .welcome-message {
            background: linear-gradient(45deg, rgba(67, 206, 162, 0.1), rgba(24, 90, 157, 0.1));
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 4px solid #43cea2;
        }
        
        .no-profile {
            text-align: center;
            color: #666;
            padding: 2rem;
        }
        
        /* æ¯æ—¥ç¸½çµæ¨£å¼ */
        .daily-summary {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .daily-summary h3 {
            color: #333;
            margin-bottom: 1.2rem;
            font-size: 1.2rem;
        }
        
        .nutrition-balance {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .balance-chart {
            flex: 0 0 150px;
        }
        
        .balance-stats {
            flex: 1;
            padding-left: 1.5rem;
        }
        
        .balance-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
        }
        
        .balance-label {
            flex: 1;
            color: #666;
            font-size: 0.9rem;
        }
        
        .balance-value {
            font-weight: bold;
            color: #333;
            margin-right: 1rem;
        }
        
        .balance-percent {
            background: #f0f0f0;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            font-size: 0.8rem;
            color: #666;
            min-width: 45px;
            text-align: center;
        }
        
        .nutrition-score {
            display: flex;
            align-items: center;
        }
        
        .score-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 1.5rem;
            box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3);
        }
        
        .score-number {
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }
        
        .score-details {
            flex: 1;
        }
        
        .score-details h4 {
            color: #333;
            margin-bottom: 0.3rem;
            font-size: 1.1rem;
        }
        
        .score-details p {
            color: #666;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        .summary-icon {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
        
        .summary-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .summary-title {
            font-size: 1rem;
            color: #333;
            margin-bottom: 0.2rem;
        }
        
        .summary-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #667eea;
        }
        
        .water-input {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .chart-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .meals-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .btn-small {
                width: 100%;
                justify-content: center;
            }

            .nutrition-balance {
                flex-direction: column;
                text-align: center;
            }
            .nutrition-details {
                grid-template-columns: 1fr;
            }

            .balance-stats {
                padding-left: 0;
                padding-top: 1rem;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .tracking-container {
                padding: 1rem;
            }

            .chart-card, .meals-card, .goals-container {
                padding: 1rem;
            }

            .nutrition-details {
                grid-template-columns: 1fr;
            }

            .goal-items {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1 class="title">ğŸ AIé£Ÿç‰©ç‡Ÿé¤Šåˆ†æå™¨</h1>
            <p class="subtitle">æ™ºèƒ½åˆ†ææ‚¨çš„é£²é£Ÿç‡Ÿé¤Š</p>
        </div>
        
        <div class="tab-nav">
            <button class="tab-btn active" data-tab="analyzer" onclick="switchTab('analyzer')">åˆ†æé£Ÿç‰©</button>
            <button class="tab-btn" data-tab="profile" onclick="switchTab('profile')">å€‹äººè³‡æ–™</button>
            <button class="tab-btn" data-tab="tracking" onclick="switchTab('tracking')">ç‡Ÿé¤Šè¿½è¹¤</button>
        </div>

        <!-- é£Ÿç‰©åˆ†æé é¢ -->
        <div id="analyzer" class="tab-content active">
             <div id="profileCheck" class="no-profile" style="display: none;">
                <p>è«‹å…ˆåˆ°ã€Œå€‹äººè³‡æ–™ã€é é¢å®Œæˆè¨­å®šï¼Œä»¥ç²å¾—å€‹äººåŒ–ç‡Ÿé¤Šå»ºè­°å’Œè¿½è¹¤åŠŸèƒ½ ğŸ‘†</p>
            </div>
            <div id="analyzerContent">
                <div class="camera-container">
                    <video id="video" autoplay playsinline></video>
                    <canvas id="canvas"></canvas>
                </div>

                <div class="controls">
                    <button onclick="startCamera()">ğŸ“· é–‹å•Ÿç›¸æ©Ÿ</button>
                    <button onclick="capturePhoto()">ğŸ“¸ æ‹ç…§åˆ†æ</button>
                    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">ğŸ“ ä¸Šå‚³åœ–ç‰‡</button>
                    <input type="file" id="fileInput" class="file-input" accept="image/*" onchange="handleFileUpload(event)">
                </div>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>AIæ­£åœ¨åˆ†æé£Ÿç‰©ä¸­...</p>
                </div>

                <div class="result" id="result">
                    <div class="food-info">
                        <h3 class="food-name" id="foodName">è­˜åˆ¥çš„é£Ÿç‰©</h3>
                        <button class="add-to-diary" onclick="addToFoodDiary()">åŠ å…¥é£²é£Ÿè¨˜éŒ„</button>
                    </div>

                    <div class="health-indices">
                        <div class="health-index">
                            <div class="index-label">å¥åº·æŒ‡æ•¸</div>
                            <div class="index-meter">
                                <div class="meter-fill" id="healthIndexFill"></div>
                            </div>
                            <div class="index-value" id="healthIndexValue">--/100</div>
                        </div>
                        <div class="health-index">
                            <div class="index-label">å‡ç³–æŒ‡æ•¸</div>
                            <div class="index-meter">
                                <div class="meter-fill" id="glycemicIndexFill"></div>
                            </div>
                            <div class="index-value" id="glycemicIndexValue">--/100</div>
                        </div>
                    </div>

                    <p class="food-description" id="foodDescription">é€™è£¡æœƒé¡¯ç¤ºé£Ÿç‰©çš„è©³ç´°æè¿°å’Œç‡Ÿé¤Šåƒ¹å€¼ã€‚</p>

                    <div class="benefits-tags" id="benefitsTags"></div>

                    <div class="nutrition-details">
                        <div class="nutrition-section">
                            <h4 class="nutrition-section-title">åŸºæœ¬ç‡Ÿé¤Šç´ </h4>
                            <div class="nutrition-grid" id="nutritionGrid"></div>
                        </div>
                        <div class="nutrition-section">
                            <h4 class="nutrition-section-title">ç¶­ç”Ÿç´ </h4>
                            <div class="nutrition-grid" id="vitaminsGrid"></div>
                        </div>
                        <div class="nutrition-section">
                            <h4 class="nutrition-section-title">ç¤¦ç‰©è³ª</h4>
                            <div class="nutrition-grid" id="mineralsGrid"></div>
                        </div>
                    </div>

                    <div class="daily-recommendation" id="recommendation"></div>
                </div>
            </div>
        </div>
        
        <!-- å€‹äººè³‡æ–™é é¢ -->
        <div id="profile" class="tab-content">
            <div class="profile-form">
                <div class="input-group">
                    <label for="userName">å§“å</label>
                    <input type="text" id="userName" placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
                </div>
                
                <div class="input-row">
                    <div class="input-group">
                        <label for="userAge">å¹´é½¡</label>
                        <input type="number" id="userAge" placeholder="æ­²" min="1" max="120">
                    </div>
                    <div class="input-group">
                        <label for="userGender">æ€§åˆ¥</label>
                        <select id="userGender">
                            <option value="">è«‹é¸æ“‡</option>
                            <option value="male">ç”·æ€§</option>
                            <option value="female">å¥³æ€§</option>
                        </select>
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-group">
                        <label for="userHeight">èº«é«˜ (cm)</label>
                        <input type="number" id="userHeight" placeholder="å…¬åˆ†" min="100" max="250">
                    </div>
                    <div class="input-group">
                        <label for="userWeight">é«”é‡ (kg)</label>
                        <input type="number" id="userWeight" placeholder="å…¬æ–¤" min="30" max="200">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="activityLevel">æ´»å‹•é‡</label>
                    <select id="activityLevel">
                        <option value="sedentary">ä¹…åå°‘å‹• (è¾¦å…¬å®¤å·¥ä½œ)</option>
                        <option value="light">è¼•åº¦æ´»å‹• (æ¯é€±é‹å‹•1-3æ¬¡)</option>
                        <option value="moderate">ä¸­åº¦æ´»å‹• (æ¯é€±é‹å‹•3-5æ¬¡)</option>
                        <option value="active">é«˜åº¦æ´»å‹• (æ¯é€±é‹å‹•6-7æ¬¡)</option>
                        <option value="extra">è¶…é«˜æ´»å‹• (é«”åŠ›å‹å‹•+é‹å‹•)</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="healthGoal">å¥åº·ç›®æ¨™</label>
                    <select id="healthGoal">
                        <option value="lose">æ¸›é‡</option>
                        <option value="maintain">ç¶­æŒé«”é‡</option>
                        <option value="gain">å¢é‡</option>
                        <option value="muscle">å¢è‚Œ</option>
                        <option value="health">ä¿æŒå¥åº·</option>
                    </select>
                </div>
                
                <button class="save-profile-btn" onclick="saveUserProfile()">ğŸ’¾ å„²å­˜è³‡æ–™</button>
            </div>
        </div>
        
        <!-- ç‡Ÿé¤Šè¿½è¹¤é é¢ -->
        <div id="tracking" class="tab-content">
            <div id="trackingCheck" class="no-profile" style="display: none;">
                 <p>è«‹å…ˆåˆ°ã€Œå€‹äººè³‡æ–™ã€é é¢å®Œæˆè¨­å®šï¼Œä»¥ç²å¾—å€‹äººåŒ–ç‡Ÿé¤Šå»ºè­°å’Œè¿½è¹¤åŠŸèƒ½ ğŸ‘†</p>
            </div>
            <div class="tracking-container" id="trackingContent">
                <div class="welcome-message" id="welcomeMessage"></div>
                
                <div class="stats-grid" id="statsGrid">
                        <div class="stat-card">
                        <div class="stat-icon">ğŸ”¥</div>
                        <div class="stat-info">
                            <div class="stat-value" id="todayCalories">0</div>
                            <div class="stat-label">ä»Šæ—¥æ”å–ç†±é‡</div>
                            </div>
                        </div>
                        <div class="stat-card">
                        <div class="stat-icon">ğŸ¯</div>
                            <div class="stat-info">
                            <div class="stat-value" id="calorieGoalText">0</div>
                            <div class="stat-label">æ¯æ—¥ç›®æ¨™ç†±é‡</div>
                            </div>
                        </div>
                    </div>

                <div class="goals-container" id="goalsContainer">
                        <h3>ä»Šæ—¥ç›®æ¨™é€²åº¦</h3>
                    <div class="goal-items" id="goalItems"></div>
                            </div>
                            
                    <div class="meals-card">
                        <div class="meals-header">
                            <h3>ä»Šæ—¥é£Ÿç‰©è¨˜éŒ„</h3>
                        <button class="btn-small" onclick="switchTab('analyzer')">+ æ–°å¢é¤é»</button>
                        </div>
                    <div id="mealsList" class="meals-list"></div>
                    </div>

                    <div class="chart-card full-width">
                        <div class="chart-header">
                        <h3>æœ¬é€±ç†±é‡è¶¨å‹¢</h3>
                        </div>
                        <div class="chart-container">
                        <canvas id="weeklyChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
// =================================================================================
// Application State and Data
// =================================================================================
const appState = {
    userProfile: null,
    foodDiary: [],
    currentAnalysis: null,
    charts: {}
};

const API_BASE_URL = 'http://127.0.0.1:8000'; // Backend server address

// =================================================================================
// Initialization
// =================================================================================
document.addEventListener('DOMContentLoaded', initializeApp);

function initializeApp() {
    loadUserProfile();
    loadFoodDiary();
    switchTab('analyzer'); // Start on analyzer tab
}

// =================================================================================
// Tab & UI Management
// =================================================================================
        function switchTab(tabId) {
    // Hide all tab contents
    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
    // Deactivate all tab buttons
    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));

    // Activate the selected tab and button
            document.getElementById(tabId).classList.add('active');
    document.querySelector(`.tab-btn[data-tab="${tabId}"]`).classList.add('active');

    // Conditional UI updates based on tab and profile status
    const hasProfile = !!appState.userProfile;
    
    document.getElementById('profileCheck').style.display = !hasProfile && tabId === 'analyzer' ? 'block' : 'none';
    document.getElementById('analyzerContent').style.display = hasProfile && tabId === 'analyzer' ? 'block' : 'none';
    
    document.getElementById('trackingCheck').style.display = !hasProfile && tabId === 'tracking' ? 'block' : 'none';
    document.getElementById('trackingContent').style.display = hasProfile && tabId === 'tracking' ? 'block' : 'none';
    
                if (hasProfile) {
        if (tabId === 'profile') {
            populateProfileForm();
        } else if (tabId === 'tracking') {
            updateTrackingPage();
        }
    }
}

function showLoading(isLoading) {
    document.getElementById('loading').style.display = isLoading ? 'flex' : 'none';
}

function showNotification(message, type = 'info') {
    alert(`[${type.toUpperCase()}] ${message}`);
}


// =================================================================================
// Profile Management
// =================================================================================
function saveUserProfile() {
            const profile = {
                name: document.getElementById('userName').value,
                age: parseInt(document.getElementById('userAge').value),
                gender: document.getElementById('userGender').value,
                height: parseInt(document.getElementById('userHeight').value),
                weight: parseInt(document.getElementById('userWeight').value),
                activityLevel: document.getElementById('activityLevel').value,
                healthGoal: document.getElementById('healthGoal').value
            };
            
    if (Object.values(profile).some(v => !v)) {
        return showNotification('è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½ï¼', 'error');
    }

    // Calculate BMR and daily calorie needs
    const bmr = calculateBMR(profile);
    profile.dailyCalories = calculateDailyCalories(bmr, profile.activityLevel, profile.healthGoal);
    profile.proteinGoal = Math.round(profile.dailyCalories * 0.25 / 4); // 25% from protein
    profile.fiberGoal = 25; // g
    profile.waterGoal = 2000; // ml

    appState.userProfile = profile;
            localStorage.setItem('userProfile', JSON.stringify(profile));
    
    showNotification('å€‹äººè³‡æ–™å·²å„²å­˜ï¼', 'success');
    switchTab('analyzer'); // Switch to analyzer after saving
}

function loadUserProfile() {
    const storedProfile = localStorage.getItem('userProfile');
    if (storedProfile) {
        appState.userProfile = JSON.parse(storedProfile);
    }
}

function populateProfileForm() {
    if (!appState.userProfile) return;
    for (const key in appState.userProfile) {
        const element = document.getElementById(key);
        if (element) {
            element.value = appState.userProfile[key];
        }
    }
}

function calculateBMR({ gender, weight, height, age }) {
    if (gender === 'male') {
        return 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);
    }
    return 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
}

function calculateDailyCalories(bmr, activityLevel, healthGoal) {
    const activityMultipliers = { sedentary: 1.2, light: 1.375, moderate: 1.55, active: 1.725, extra: 1.9 };
    let calories = bmr * (activityMultipliers[activityLevel] || 1.2);
    const goalAdjustments = { lose: -300, gain: 300, muscle: 200 };
    calories += goalAdjustments[healthGoal] || 0;
    return Math.round(calories);
}

// =================================================================================
// Camera and Image Analysis
// =================================================================================
async function startCamera() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        const video = document.getElementById('video');
        video.srcObject = stream;
        video.style.display = 'block';
    } catch (err) {
        showNotification('ç„¡æ³•é–‹å•Ÿç›¸æ©Ÿï¼Œè«‹æª¢æŸ¥æ¬Šé™ã€‚', 'error');
    }
}

function capturePhoto() {
    const video = document.getElementById('video');
    const canvas = document.getElementById('canvas');
    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;
    const context = canvas.getContext('2d');
    context.drawImage(video, 0, 0, canvas.width, canvas.height);
    
    canvas.toBlob(blob => {
        if (blob) {
            processImage(blob);
        } else {
            showNotification('ç„¡æ³•æ“·å–åœ–ç‰‡ï¼Œè«‹å†è©¦ä¸€æ¬¡', 'error');
        }
    }, 'image/jpeg');
}

function handleFileUpload(event) {
    const file = event.target.files[0];
    if (file) {
        processImage(file);
        // é‡ç½®æ–‡ä»¶è¼¸å…¥ï¼Œå…è¨±é‡è¤‡ä¸Šå‚³ç›¸åŒæ–‡ä»¶
        event.target.value = '';
    }
}

async function processImage(imageSource) {
    showLoading(true);
    document.getElementById('result').style.display = 'none';

    const formData = new FormData();
    formData.append('file', imageSource);

    try {
        // èª¿ç”¨ AI ç«¯é»ç²å–é£Ÿç‰©åç¨±
        const aiResponse = await fetch(`${API_BASE_URL}/ai/analyze-food-image/`, {
            method: 'POST',
            body: formData,
        });

        if (!aiResponse.ok) {
            const errorData = await aiResponse.json();
            throw new Error(errorData.detail || `AIè¾¨è­˜å¤±æ•— (ç‹€æ…‹ç¢¼: ${aiResponse.status})`);
        }

        const aiData = await aiResponse.json();
        const foodName = aiData.food_name;

        if (!foodName || foodName === "Unknown") {
            throw new Error('AIç„¡æ³•è¾¨è­˜å‡ºé£Ÿç‰©åç¨±ã€‚');
        }

        // å‰µå»ºåŸºæœ¬åˆ†æçµæœï¼ˆåŸºæ–¼ AI è¾¨è­˜çµæœï¼‰
        // ç”±æ–¼ç‡Ÿé¤Šç«¯é»å¯èƒ½ä¸å­˜åœ¨ï¼Œæˆ‘å€‘å…ˆå‰µå»ºä¸€å€‹åŸºæœ¬ç‰ˆæœ¬
        appState.currentAnalysis = {
            foodName: foodName,
            description: `AI è¾¨è­˜çµæœï¼š${foodName}`,
            healthIndex: 75, // é»˜èªå€¼
            glycemicIndex: 50, // é»˜èªå€¼
            benefits: [`å«æœ‰ ${foodName} çš„ç‡Ÿé¤Šæˆåˆ†`],
            nutrition: {
                calories: 150, // é»˜èªä¼°è¨ˆå€¼
                protein: 8,
                carbs: 20,
                fat: 5,
                fiber: 3,
                sugar: 2
            },
            vitamins: {
                'Vitamin C': 15,
                'Vitamin A': 10
            },
            minerals: {
                'Iron': 2,
                'Calcium': 50
            }
        };

        // å˜—è©¦ç²å–è©³ç´°ç‡Ÿé¤Šä¿¡æ¯ï¼ˆå¯é¸ï¼‰
        try {
            const nutritionResponse = await fetch(`${API_BASE_URL}/api/analyze-nutrition/${encodeURIComponent(foodName)}`);
            
            if (nutritionResponse.ok) {
                const nutritionData = await nutritionResponse.json();
                if (nutritionData.success) {
                    // å¦‚æœç‡Ÿé¤Šç«¯é»å­˜åœ¨ä¸”æˆåŠŸï¼Œåˆä½µæ•¸æ“š
                    appState.currentAnalysis = {
                        foodName: foodName,
                        ...nutritionData
                    };
                }
            }
        } catch (nutritionError) {
            console.log('ç‡Ÿé¤Šä¿¡æ¯ç«¯é»ä¸å¯ç”¨ï¼Œä½¿ç”¨åŸºæœ¬ä¿¡æ¯');
        }
        
        displayAnalysisResults(appState.currentAnalysis);

    } catch (error) {
        showNotification(`åˆ†æå¤±æ•—: ${error.message}`, 'error');
    } finally {
        showLoading(false);
    }
}

function displayAnalysisResults(analysis) {
    console.log('é¡¯ç¤ºåˆ†æçµæœ:', analysis); // èª¿è©¦ç”¨
    
    // é¡¯ç¤ºçµæœå€åŸŸ
    document.getElementById('result').style.display = 'block';
    
    // åŸºæœ¬ä¿¡æ¯
    document.getElementById('foodName').textContent = analysis.foodName;
    document.getElementById('foodDescription').textContent = analysis.description || `é€™æ˜¯ ${analysis.foodName}`;

    // å¥åº·æŒ‡æ•¸
    const healthIndex = analysis.healthIndex || 75;
    const glycemicIndex = analysis.glycemicIndex || 50;
    
    document.getElementById('healthIndexValue').textContent = `${healthIndex}/100`;
    document.getElementById('healthIndexFill').style.width = `${healthIndex}%`;
    document.getElementById('glycemicIndexValue').textContent = `${glycemicIndex}/100`;
    document.getElementById('glycemicIndexFill').style.width = `${glycemicIndex}%`;
    
    // ç‡Ÿé¤Šç›Šè™•
    const benefitsContainer = document.getElementById('benefitsTags');
    benefitsContainer.innerHTML = '';

    if (analysis.benefits && Array.isArray(analysis.benefits)) {
        analysis.benefits.forEach(tag => {
            const tagEl = document.createElement('span');
            tagEl.className = 'benefit-tag';
            tagEl.textContent = tag;
            benefitsContainer.appendChild(tagEl);
        });
    } else {
        const tagEl = document.createElement('span');
        tagEl.className = 'benefit-tag';
        tagEl.textContent = `${analysis.foodName} çš„ç‡Ÿé¤Šåƒ¹å€¼`;
        benefitsContainer.appendChild(tagEl);
    }

    // ç‡Ÿé¤Šä¿¡æ¯
    const nutrition = analysis.nutrition || {};
    const nutritionData = {
        calories: nutrition.calories || 150,
        protein: nutrition.protein || 8,
        carbs: nutrition.carbs || 20,
        fat: nutrition.fat || 5,
        fiber: nutrition.fiber || 3,
        sugar: nutrition.sugar || 2
    };

    const labels = { 
        calories: 'ç†±é‡', 
        protein: 'è›‹ç™½è³ª', 
        carbs: 'ç¢³æ°´åŒ–åˆç‰©', 
        fat: 'è„‚è‚ª', 
        fiber: 'çº–ç¶­', 
        sugar: 'ç³–åˆ†' 
    };
    const units = {
        calories: 'å¡',
        protein: 'g',
        carbs: 'g', 
        fat: 'g',
        fiber: 'g',
        sugar: 'g'
    };

    // å¡«å……ç‡Ÿé¤Šç¶²æ ¼
    const nutritionGrid = document.getElementById('nutritionGrid');
    nutritionGrid.innerHTML = '';
    
    for (const [key, value] of Object.entries(nutritionData)) {
        const itemDiv = document.createElement('div');
        itemDiv.className = 'nutrition-item';
        itemDiv.innerHTML = `
            <div class="nutrition-label">${labels[key]}</div>
            <div class="nutrition-value">${value} ${units[key]}</div>
        `;
        nutritionGrid.appendChild(itemDiv);
    }

    // ç¶­ç”Ÿç´ å’Œç¤¦ç‰©è³ª
    const vitaminsGrid = document.getElementById('vitaminsGrid');
    const mineralsGrid = document.getElementById('mineralsGrid');
    
    vitaminsGrid.innerHTML = '';
    mineralsGrid.innerHTML = '';
    
    if (analysis.vitamins) {
        for (const [key, value] of Object.entries(analysis.vitamins)) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'nutrition-item';
            itemDiv.innerHTML = `
                <div class="nutrition-label">${key}</div>
                <div class="nutrition-value">${value} mg</div>
            `;
            vitaminsGrid.appendChild(itemDiv);
        }
    }
    
    if (analysis.minerals) {
        for (const [key, value] of Object.entries(analysis.minerals)) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'nutrition-item';
            itemDiv.innerHTML = `
                <div class="nutrition-label">${key}</div>
                <div class="nutrition-value">${value} mg</div>
            `;
            mineralsGrid.appendChild(itemDiv);
        }
    }
    
    // å€‹äººåŒ–å»ºè­°
    if (appState.userProfile) {
        const recoEl = document.getElementById('recommendation');
        const caloriePercentage = ((nutritionData.calories / appState.userProfile.dailyCalories) * 100).toFixed(0);
        recoEl.innerHTML = `
            <div class="recommendation-title">ğŸ’¡ å€‹äººåŒ–å»ºè­°</div>
            <div class="recommendation-text">é€™ä»½é£Ÿç‰©ç´„ä½”æ‚¨æ¯æ—¥ç†±é‡å»ºè­°çš„ ${caloriePercentage}%ã€‚</div>
        `;
    }
}

// =================================================================================
// Food Diary
// =================================================================================
function addToFoodDiary() {
    if (!appState.currentAnalysis) {
        return showNotification('æ²’æœ‰å¯åŠ å…¥çš„åˆ†æçµæœã€‚', 'error');
    }
    const meal = {
        ...appState.currentAnalysis,
        id: Date.now(),
                        timestamp: new Date().toISOString()
                    };
    appState.foodDiary.push(meal);
    saveFoodDiary();
    showNotification(`${meal.foodName} å·²åŠ å…¥è¨˜éŒ„ï¼`, 'success');
    updateTrackingPage(); // Refresh tracking page data
}

function loadFoodDiary() {
    const today = new Date().toISOString().slice(0, 10);
    const storedDiary = localStorage.getItem(`foodDiary_${today}`);
    appState.foodDiary = storedDiary ? JSON.parse(storedDiary) : [];
}

function saveFoodDiary() {
    const today = new Date().toISOString().slice(0, 10);
    localStorage.setItem(`foodDiary_${today}`, JSON.stringify(appState.foodDiary));
}

// =================================================================================
// Tracking Page
// =================================================================================
function updateTrackingPage() {
    if (!appState.userProfile) return;
    
    updateWelcomeMessage();
    updateTodayStats();
    updateGoalsProgress();
    updateMealsList();
    renderWeeklyChart();
}

function updateWelcomeMessage() {
    document.getElementById('welcomeMessage').innerHTML = `<h3>ğŸ‘‹ ä½ å¥½, ${appState.userProfile.name}!</h3><p>é€™æ˜¯æ‚¨ä»Šå¤©çš„ç‡Ÿé¤Šç¸½è¦½ã€‚</p>`;
}

function updateTodayStats() {
    const todayTotals = appState.foodDiary.reduce((totals, meal) => {
        totals.calories += meal.nutrition.calories || 0;
        totals.protein += meal.nutrition.protein || 0;
        totals.fiber += meal.nutrition.fiber || 0;
        return totals;
    }, { calories: 0, protein: 0, fiber: 0 });

    document.getElementById('todayCalories').textContent = Math.round(todayTotals.calories);
    document.getElementById('calorieGoalText').textContent = appState.userProfile.dailyCalories;
}

function updateGoalsProgress() {
    const goals = {
        calories: { label: 'ç†±é‡', unit: 'å¡', goal: appState.userProfile.dailyCalories, key: 'calories' },
        protein: { label: 'è›‹ç™½è³ª', unit: 'g', goal: appState.userProfile.proteinGoal, key: 'protein' },
        fiber: { label: 'çº–ç¶­', unit: 'g', goal: appState.userProfile.fiberGoal, key: 'fiber' }
    };

    const todayTotals = appState.foodDiary.reduce((totals, meal) => {
        totals.calories += meal.nutrition.calories || 0;
        totals.protein += meal.nutrition.protein || 0;
        totals.fiber += meal.nutrition.fiber || 0;
        return totals;
    }, { calories: 0, protein: 0, fiber: 0 });

    const container = document.getElementById('goalItems');
    container.innerHTML = '';

    for (const g in goals) {
        const { label, unit, goal, key } = goals[g];
        const current = Math.round(todayTotals[key]);
        const progress = goal > 0 ? Math.min(100, (current / goal) * 100) : 0;
        
        const item = document.createElement('div');
        item.className = 'progress-item';
        item.innerHTML = `
            <div class="progress-header">
                <span class="progress-label">${label}</span>
                <span class="progress-value">${current} / ${goal} ${unit}</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" style="width: ${progress}%; background-color: #${g === 'calories' ? 'ff9a9e' : g === 'protein' ? '667eea' : '43cea2'};"></div>
            </div>`;
        container.appendChild(item);
    }
        }
        
        function updateMealsList() {
    const listEl = document.getElementById('mealsList');
    if (appState.foodDiary.length === 0) {
        listEl.innerHTML = `<div class="empty-state">
            <div class="empty-icon">ğŸ½ï¸</div><p>ä»Šå¤©å°šæœªè¨˜éŒ„ä»»ä½•é£Ÿç‰©</p>
            </div>`;
        return;
    }
    listEl.innerHTML = appState.foodDiary.map(meal => `
                    <div class="meal-item">
                        <div class="meal-info">
                            <h4>${meal.foodName}</h4>
                <span>${new Date(meal.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>
                        </div>
            <div class="meal-calories">${Math.round(meal.nutrition.calories)} å¡</div>
                    </div>
                `).join('');
}


function renderWeeklyChart() {
    const ctx = document.getElementById('weeklyChart').getContext('2d');
    if (appState.charts.weekly) {
        appState.charts.weekly.destroy();
    }
    
    // Mock data for past 6 days + today's actual data
    const labels = ['äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'æ—¥', 'ä¸€'].slice(-7); // Last 7 days ending today
    const data = Array(6).fill(0).map(() => Math.random() * (2200 - 1500) + 1500);
    const todayCalories = appState.foodDiary.reduce((sum, meal) => sum + meal.nutrition.calories, 0);
    data.push(todayCalories);
    
    appState.charts.weekly = new Chart(ctx, {
                type: 'line',
                data: {
            labels,
                        datasets: [{
                label: 'æ¯æ—¥ç†±é‡ (å¡)',
                data,
                borderColor: '#667eea',
                backgroundColor: 'rgba(102, 126, 234, 0.1)',
                fill: true,
                tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
            scales: { y: { beginAtZero: true } },
            plugins: { legend: { display: false } }
        }
    });
        }
    </script>
</body>
</html>